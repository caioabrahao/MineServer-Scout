<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>MineServer Scout</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <link rel="icon" type="image/png" href="/static/favicon2.png">
</head>
<body>
<div class="max-w-4xl mx-auto bg-white p-2 sm:p-8 rounded-xl shadow-lg mt-2 sm:mt-8">
    <h1 class="text-2xl sm:text-3xl font-bold text-center mb-4 sm:mb-8 text-gray-800">MineServer Scout</h1>

    <form class="flex flex-col sm:flex-row flex-wrap gap-4 justify-center mb-4 sm:mb-6" onsubmit="startScan(); return false;">
        <div class="flex flex-col w-full sm:w-auto">
            <label for="host" class="mb-2 font-semibold text-gray-700 text-lg sm:text-base flex items-center gap-1">
                Host:
                <span class="ml-1 bg-gray-200 rounded-full px-2 py-1 cursor-pointer text-blue-500 hover:text-blue-700" title="Digite o endereço do servidor (O IP que fica antes dos :)">?</span>
            </label>
            <input type="text" id="host" value="enx-cirion-18.enx.host" autocomplete="off"
                class="px-4 py-4 sm:py-2 rounded-xl border border-gray-300 w-full sm:w-56 text-lg sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-400 transition-all duration-200">
        </div>
        <div class="flex flex-col w-full sm:w-auto">
            <label for="start_port" class="mb-2 font-semibold text-gray-700 text-lg sm:text-base flex items-center gap-1">
                Porta inicial:
                <span class="ml-1 bg-gray-200 rounded-full px-2 py-1 cursor-pointer text-blue-500 hover:text-blue-700" title="Digite o número da porta inicial para o scan (ex: 10000)">?</span>
            </label>
            <input type="number" id="start_port" value="10000" autocomplete="off"
                class="px-4 py-4 sm:py-2 rounded-xl border border-gray-300 w-full sm:w-40 text-lg sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-400 transition-all duration-200">
        </div>
        <div class="flex flex-col w-full sm:w-auto">
            <label for="end_port" class="mb-2 font-semibold text-gray-700 text-lg sm:text-base flex items-center gap-1">
                Porta final:
                <span class="ml-1 bg-gray-200 rounded-full px-2 py-1 cursor-pointer text-blue-500 hover:text-blue-700" title="Digite o número da porta final para o scan (ex: 10100)">?</span>
            </label>
            <input type="number" id="end_port" value="10100" autocomplete="off"
                class="px-4 py-4 sm:py-2 rounded-xl border border-gray-300 w-full sm:w-40 text-lg sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-400 transition-all duration-200">
        </div>
        <button type="submit" id="scan_btn" class="bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl px-8 py-4 sm:py-2 mt-2 sm:mt-6 transition-colors duration-200 shadow scan-btn w-full sm:w-auto text-lg sm:text-base">Scan</button>
    </form>

    <div id="status" class="font-semibold text-center mb-4 status flex flex-col items-center justify-center"></div>
    
    <!-- Progress bar -->
    <div id="progress_container" class="mb-4" style="display: none;">
        <div class="bg-gray-200 rounded-full h-2.5">
            <div id="progress_bar" class="bg-blue-600 h-2.5 rounded-full transition-all duration-300" style="width: 0%"></div>
        </div>
        <div id="progress_text" class="text-sm text-gray-600 mt-1 text-center">0%</div>
    </div>

    <div id="results_wrapper" class="overflow-x-auto rounded-lg" style="display: none;">
        <table id="results" class="display min-w-[700px] w-full text-base sm:text-sm text-left">
            <thead class="bg-gray-100">
                <tr>
                    <th class="p-3 sm:p-2">Ícone</th>
                    <th class="p-3 sm:p-2">Porta</th>
                    <th class="p-3 sm:p-2">Versão</th>
                    <th class="p-3 sm:p-2">MOTD</th>
                    <th class="p-3 sm:p-2">Players</th>
                    <th class="p-3 sm:p-2">Servidor</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

<!-- Copied notification -->
<div id="copied-notification" class="fixed left-1/2 top-6 z-50 px-4 py-2 rounded bg-green-600 text-white text-sm shadow-lg opacity-0 pointer-events-none transition-opacity duration-300" style="transform: translateX(-50%);">
    Copiado para a área de transferência!
</div>
</div>

<!-- Footer credit -->
<footer class="max-w-4xl mx-auto mt-4 sm:mt-6 text-center text-gray-500 text-sm h-16 flex justify-center items-center">
    <p><span>made by </span>
    <a href="https://github.com/caioabrahao" target="_blank" rel="noopener noreferrer" class="underline hover:text-gray-700">Caio Abrahão</a></p>
</footer>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="/static/main.js"></script>

</body>
</html>
